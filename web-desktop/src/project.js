window.__require=function e(t,o,i){function n(r,c){if(!o[r]){if(!t[r]){var a=r.split("/");if(a=a[a.length-1],!t[a]){var E="function"==typeof __require&&__require;if(!c&&E)return E(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+r+"'")}}var h=o[r]={exports:{}};t[r][0].call(h.exports,function(e){return n(t[r][1][e]||e)},h,h.exports,e,t,o,i)}return o[r].exports}for(var s="function"==typeof __require&&__require,r=0;r<i.length;r++)n(i[r]);return n}({BulletEnemy:[function(e,t,o){"use strict";cc._RF.push(t,"b8cd4X78zdA+I+JukmP67Rj","BulletEnemy"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./ObjectBase"),n=e("./MyUtils"),s=cc._decorator,r=s.ccclass,c=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.SetInfo=function(e,t,o,i){this.node.x=e,this.node.y=t,this.veloc=i,this.vec=o},t.prototype.update=function(e){this.node.x+=this.vec.x*this.veloc*e,this.node.y+=this.vec.y*this.veloc*e,n.default.CheckOutScreenDestroy(this.node)},t=__decorate([r],t)}(i.ObjectBase));o.default=c,cc._RF.pop()},{"./MyUtils":"MyUtils","./ObjectBase":"ObjectBase"}],Bullet:[function(e,t,o){"use strict";cc._RF.push(t,"6360dZrLS9M2KEUlSvK1klh","Bullet"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./ObjectBase"),n=e("./GameManager"),s=e("./MyUtils"),r=cc._decorator,c=r.ccclass,a=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.SetBeginPos=function(e,t){this.node.x=e,this.node.y=t},t.prototype.update=function(e){this.node.y+=n.default.Defines.PLAYER_BULLET_VELOC*e,s.default.CheckOutScreenDestroy(this.node)},t=__decorate([c],t)}(i.ObjectBase));o.default=a,cc._RF.pop()},{"./GameManager":"GameManager","./MyUtils":"MyUtils","./ObjectBase":"ObjectBase"}],Camera:[function(e,t,o){"use strict";cc._RF.push(t,"1561dmkDuxDboh5aRUlYcHk","Camera"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,s=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.update=function(e){},t=__decorate([n],t)}(cc.Component));o.default=s,cc._RF.pop()},{}],Enemy:[function(e,t,o){"use strict";cc._RF.push(t,"0558e2u4odOdrIwPU32cTy/","Enemy"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./ObjectBase"),n=e("./GameManager"),s=e("./Enum"),r=cc._decorator,c=r.ccclass,a=r.property,E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.anim=null,t.nodeHealthArr=[],t.bFire=!1,t.timeFireDefine=0,t.percentFireDefine=0,t.timeFire=0,t.timeBurst=0,t.xBegin=0,t.itemtype=0,t.state=s.ENEMY_STATE.NONE,t.gm=null,t}return __extends(t,e),t.prototype.SetInfo=function(e,t,o,i,r){this.node.active=!0,this.node.x=this.xBegin,this.state=s.ENEMY_STATE.IDLE,this.veloc=e,this.health=t,this.health>n.default.Defines.ENEMY_MAX_HEALTH&&(this.health=n.default.Defines.ENEMY_MAX_HEALTH),this.timeFireDefine=o,this.percentFireDefine=i,this.state=s.ENEMY_STATE.IDLE,this.SetHealthNode(),this.anim.play(this.anim.getClips()[0].name),this.anim.getAnimationState(this.anim.getClips()[0].name).wrapMode=cc.WrapMode.Loop,this.gm=r,this.timeFire=0},t.prototype.onLoad=function(){this.xBegin=this.node.x},t.prototype.start=function(){},t.prototype.update=function(e){switch(this.state){case s.ENEMY_STATE.IDLE:case s.ENEMY_STATE.FIRE:if(this.node.x>this.xBegin+n.default.Defines.ENEMY_DISTANCE_MOVE?(this.veloc=-Math.abs(this.veloc),this.node.x+=this.veloc*e):this.node.x<this.xBegin-n.default.Defines.ENEMY_DISTANCE_MOVE?(this.veloc=Math.abs(this.veloc),this.node.x+=this.veloc*e):this.node.x+=this.veloc*e,this.timeFire+=e,this.timeFire>=this.timeFireDefine)Math.floor(100*Math.random())<=this.percentFireDefine&&(this.state=s.ENEMY_STATE.FIRE),this.timeFire=0;break;case s.ENEMY_STATE.BURST:case s.ENEMY_STATE.DIE:}},t.prototype.SetState=function(e){this.state=e},t.prototype.onCollisionEnter=function(e,t){var o=+e.getComponent(cc.BoxCollider).tag;o!=s.COLLIDER_TAG.BULLET&&o!=s.COLLIDER_TAG.PLAYER||this.state!=s.ENEMY_STATE.IDLE&&this.state!=s.ENEMY_STATE.FIRE||(o!=s.COLLIDER_TAG.PLAYER&&e.node.destroy(),this.health--,this.SetHealthNode(),this.gm.AddScore(),0==this.health&&this.SetBurst())},t.prototype.SetBurst=function(){this.state=s.ENEMY_STATE.BURST,this.anim.play(this.anim.getClips()[1].name),this.anim.getAnimationState(this.anim.getClips()[1].name).wrapMode=cc.WrapMode.Normal;var e=this;this.anim.on("finished",function(t){e.node.active=!1,e.state=s.ENEMY_STATE.DIE})},t.prototype.SetHealthNode=function(){this.nodeHealthArr[0].active=this.health>=1,this.nodeHealthArr[1].active=this.health>=2,this.nodeHealthArr[2].active=this.health>=3},t.prototype.GetState=function(){return this.state},__decorate([a(cc.Animation)],t.prototype,"anim",void 0),__decorate([a([cc.Node])],t.prototype,"nodeHealthArr",void 0),t=__decorate([c],t)}(i.ObjectBase);o.default=E,cc._RF.pop()},{"./Enum":"Enum","./GameManager":"GameManager","./ObjectBase":"ObjectBase"}],Enum:[function(e,t,o){"use strict";cc._RF.push(t,"89538GkJVlKiKQJ3f1IA7Fo","Enum"),Object.defineProperty(o,"__esModule",{value:!0}),function(e){e[e.START=0]="START",e[e.LEVEL=1]="LEVEL",e[e.LEVEL_INFO=2]="LEVEL_INFO",e[e.GAME=3]="GAME",e[e.END=4]="END"}(o.GAME_STATE||(o.GAME_STATE={})),function(e){e[e.NONE=0]="NONE",e[e.IDLE=1]="IDLE",e[e.BURST=2]="BURST",e[e.DIE=3]="DIE"}(o.PLAYER_STATE||(o.PLAYER_STATE={})),function(e){e[e.NONE=0]="NONE",e[e.IDLE=1]="IDLE",e[e.FIRE=2]="FIRE",e[e.BURST=3]="BURST",e[e.DIE=4]="DIE"}(o.ENEMY_STATE||(o.ENEMY_STATE={})),function(e){e[e.NONE=0]="NONE",e[e.PLAYER=1]="PLAYER",e[e.ENEMY=2]="ENEMY",e[e.BULLET=3]="BULLET",e[e.BULLET_ENEMY=4]="BULLET_ENEMY"}(o.COLLIDER_TAG||(o.COLLIDER_TAG={})),cc._RF.pop()},{}],GameManager:[function(e,t,o){"use strict";cc._RF.push(t,"67bd3sPNt1GhJfl0h0mv5aJ","GameManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./Player"),n=e("./GlobalDefines"),s=e("./Bullet"),r=e("./Enum"),c=e("./Enemy"),a=e("./BulletEnemy"),E=cc._decorator,h=E.ccclass,l=E.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.player=null,t.nodeEnemy=null,t.nodeBullet=null,t.nodeBulletEnemy=null,t.prefabEnemy=null,t.prefabBullet=null,t.prefabBulletEnemy=null,t.lblScore=null,t.nodeHealthArr=[],t.nodeStart=null,t.nodeLevel=null,t.nodeLevelInfo=null,t.nodeGame=null,t.nodeEnd=null,t.infoLv1=null,t.infoLv2=null,t.infoLv3=null,t.lblTimer=null,t.nodeGameWin=null,t.nodeGameLose=null,t.lblScoreEnd=null,t.keys=new Map,t.state=r.GAME_STATE.START,t.score=0,t.level=0,t.timer=0,t.bulletEnemyVeloc=0,t}var o;return __extends(t,e),o=t,t.prototype.onLoad=function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),cc.find("Canvas").on(cc.Node.EventType.MOUSE_DOWN,function(e){console.log("Mouse down")},this)},t.prototype.start=function(){this.state=r.GAME_STATE.START,this.ShowNodeWithState(),this.lblScore.string="Score: 0"},t.prototype.update=function(e){switch(this.state){case r.GAME_STATE.START:break;case r.GAME_STATE.GAME:this.CreateBulletEnemy(),this.UpdateTimer(e),this.CheckEndGame()}},t.prototype.UpdateTimer=function(e){this.timer-=e,this.lblTimer.string=""+Math.floor(this.timer),this.timer<10&&(this.lblTimer.node.color=cc.color(255,0,0))},t.prototype.CheckEndGame=function(){if(this.player.GetState()!=r.PLAYER_STATE.DIE)if(this.timer<=0)this.ShowGameEnd(!1);else{for(var e=0;e<this.nodeEnemy.children.length;e++){if(this.nodeEnemy.children[e].getComponent(c.default).GetState()!=r.ENEMY_STATE.DIE)break}e>=this.nodeEnemy.children.length-1&&this.ShowGameEnd(!0)}else this.ShowGameEnd(!1)},t.prototype.BeginGame=function(){},t.prototype.EndGame=function(){},t.prototype.RestartGame=function(){},t.prototype.CreateBulletEnemy=function(){var e=this;this.nodeEnemy.children.forEach(function(t){var o=t.getComponent(c.default);if(o.GetState()==r.ENEMY_STATE.FIRE){var i=new cc.Vec2(e.player.node.x-t.x,e.player.node.y-t.y);i=i.normalize();var n=cc.instantiate(e.prefabBulletEnemy);n.getComponent(a.default).SetInfo(t.x,t.y,i,e.bulletEnemyVeloc),e.nodeBulletEnemy.addChild(n),o.SetState(r.ENEMY_STATE.IDLE)}})},t.prototype.AddScore=function(){this.score+=100,this.lblScore.string="Score: "+this.score},t.prototype.SetHealthNode=function(){var e=this.player.getComponent(i.default).GetHealth();this.nodeHealthArr[0].active=e>=1,this.nodeHealthArr[1].active=e>=2,this.nodeHealthArr[2].active=e>=3},t.prototype.onKeyDown=function(e){if(this.state==r.GAME_STATE.GAME&&this.player.GetState()==r.PLAYER_STATE.IDLE)switch(this.keys.set(e.keyCode,!0),e.keyCode){case cc.macro.KEY.space:var t=cc.instantiate(this.prefabBullet);t.getComponent(s.default).SetBeginPos(this.player.GetPosX(),this.player.GetPosY()),this.nodeBullet.addChild(t);break;case cc.macro.KEY.left:this.player.MoveLeft();break;case cc.macro.KEY.right:this.player.MoveRight();break;case cc.macro.KEY.up:cc.log("up"),this.player.MoveUp();break;case cc.macro.KEY.down:cc.log("down"),this.player.MoveDown();break;case cc.macro.KEY.escape:}},t.prototype.onKeyUp=function(e){this.keys.delete(e.keyCode)},t.prototype.ShowNodeWithState=function(){switch(this.nodeStart.active=!1,this.nodeLevel.active=!1,this.nodeLevelInfo.active=!1,this.nodeGame.active=!1,this.nodeEnd.active=!1,this.state){case r.GAME_STATE.START:this.nodeStart.active=!0;break;case r.GAME_STATE.LEVEL:this.nodeLevel.active=!0;break;case r.GAME_STATE.LEVEL_INFO:this.nodeLevelInfo.active=!0;break;case r.GAME_STATE.GAME:this.nodeGame.active=!0;break;case r.GAME_STATE.END:this.nodeEnd.active=!0}},t.prototype.ShowInfoWithLevel=function(){switch(this.infoLv1.active=!1,this.infoLv2.active=!1,this.infoLv3.active=!1,this.level){case 1:this.infoLv1.active=!0;break;case 2:this.infoLv2.active=!0;break;case 3:this.infoLv3.active=!0}},t.prototype.SetUpGameWithLevel=function(){var e=this;this.score=0,this.player.SetInfo(this),this.lblTimer.node.color=cc.color(255,255,255);var t=0,i=0,n=0,s=0;switch(this.nodeBullet.children.forEach(function(e){e.destroy()}),this.nodeBulletEnemy.children.forEach(function(e){e.destroy()}),this.level){case 1:this.timer=o.Defines.TIMER_LV_1,this.bulletEnemyVeloc=o.Defines.BULLET_VELOC_LV_1,t=o.Defines.ENEMY_MAX_HEALTH_LV_1,i=o.Defines.ENEMY_VELOC_LV_1,n=o.Defines.ENEMY_TIME_FIRE_LV_1,s=o.Defines.ENEMY_PERCENT_FIRE_LV_1;break;case 2:this.timer=o.Defines.TIMER_LV_2,this.bulletEnemyVeloc=o.Defines.BULLET_VELOC_LV_2,t=o.Defines.ENEMY_MAX_HEALTH_LV_2,i=o.Defines.ENEMY_VELOC_LV_2,n=o.Defines.ENEMY_TIME_FIRE_LV_2,s=o.Defines.ENEMY_PERCENT_FIRE_LV_2;break;case 3:this.timer=o.Defines.TIMER_LV_3,this.bulletEnemyVeloc=o.Defines.BULLET_VELOC_LV_3,t=o.Defines.ENEMY_MAX_HEALTH_LV_3,i=o.Defines.ENEMY_VELOC_LV_3,n=o.Defines.ENEMY_TIME_FIRE_LV_3,s=o.Defines.ENEMY_PERCENT_FIRE_LV_3}this.nodeEnemy.children.forEach(function(r){var a=r.getComponent(c.default),E=Math.floor(Math.random()*t)+1,h=Math.floor(Math.random()*(n-o.Defines.ENEMY_TIME_FIRE_BASE))+o.Defines.ENEMY_TIME_FIRE_BASE;a.SetInfo(i,E,h,s,e)})},t.prototype.ShowGameEnd=function(e){this.nodeGameLose.active=!1,this.nodeGameWin.active=!1,this.state=r.GAME_STATE.END,e?this.nodeGameWin.active=!0:this.nodeGameLose.active=!0,this.lblScoreEnd.string="Score: "+this.score.toString(),this.ShowNodeWithState()},t.prototype.OnTouchStart=function(){this.state=r.GAME_STATE.LEVEL,this.ShowNodeWithState()},t.prototype.OnTouchEasy=function(){this.state=r.GAME_STATE.LEVEL_INFO,this.ShowNodeWithState(),this.level=1,this.ShowInfoWithLevel()},t.prototype.OnTouchNormal=function(){this.state=r.GAME_STATE.LEVEL_INFO,this.ShowNodeWithState(),this.level=2,this.ShowInfoWithLevel()},t.prototype.OnTouchHard=function(){this.state=r.GAME_STATE.LEVEL_INFO,this.ShowNodeWithState(),this.level=3,this.ShowInfoWithLevel()},t.prototype.OnTouchBack=function(){this.state=r.GAME_STATE.LEVEL,this.ShowNodeWithState()},t.prototype.OnTouchPlay=function(){this.state=r.GAME_STATE.GAME,this.ShowNodeWithState(),this.SetUpGameWithLevel()},t.Defines=new n.default,__decorate([l(i.default)],t.prototype,"player",void 0),__decorate([l(cc.Node)],t.prototype,"nodeEnemy",void 0),__decorate([l(cc.Node)],t.prototype,"nodeBullet",void 0),__decorate([l(cc.Node)],t.prototype,"nodeBulletEnemy",void 0),__decorate([l(cc.Prefab)],t.prototype,"prefabEnemy",void 0),__decorate([l(cc.Prefab)],t.prototype,"prefabBullet",void 0),__decorate([l(cc.Prefab)],t.prototype,"prefabBulletEnemy",void 0),__decorate([l(cc.Label)],t.prototype,"lblScore",void 0),__decorate([l([cc.Node])],t.prototype,"nodeHealthArr",void 0),__decorate([l(cc.Node)],t.prototype,"nodeStart",void 0),__decorate([l(cc.Node)],t.prototype,"nodeLevel",void 0),__decorate([l(cc.Node)],t.prototype,"nodeLevelInfo",void 0),__decorate([l(cc.Node)],t.prototype,"nodeGame",void 0),__decorate([l(cc.Node)],t.prototype,"nodeEnd",void 0),__decorate([l(cc.Node)],t.prototype,"infoLv1",void 0),__decorate([l(cc.Node)],t.prototype,"infoLv2",void 0),__decorate([l(cc.Node)],t.prototype,"infoLv3",void 0),__decorate([l(cc.Label)],t.prototype,"lblTimer",void 0),__decorate([l(cc.Node)],t.prototype,"nodeGameWin",void 0),__decorate([l(cc.Node)],t.prototype,"nodeGameLose",void 0),__decorate([l(cc.Label)],t.prototype,"lblScoreEnd",void 0),t=o=__decorate([h],t)}(cc.Component);o.default=_,cc._RF.pop()},{"./Bullet":"Bullet","./BulletEnemy":"BulletEnemy","./Enemy":"Enemy","./Enum":"Enum","./GlobalDefines":"GlobalDefines","./Player":"Player"}],GlobalDefines:[function(e,t,o){"use strict";cc._RF.push(t,"d922eKnsUpCtbw15YgRyZ1O","GlobalDefines"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,s=(i.property,function(){function e(){this.PLAYER_HEALTH=3,this.PLAYER_BULLET_VELOC=200,this.PLAYER_BEGIN_POS_X=0,this.PLAYER_BEGIN_POS_Y=-217,this.BACKGROUND_SCROLLING_VELOC=300,this.PLAYER_DISTANCE_MOVE=20,this.SCREEN_WIDTH=512,this.SCREEN_HEIGHT=512,this.ENEMY_DISTANCE_MOVE=100,this.ENEMY_MAX_HEALTH=3,this.ENEMY_BULLET_VELOC=200,this.ENEMY_TIME_FIRE_LV_1=10,this.ENEMY_TIME_FIRE_LV_2=7,this.ENEMY_TIME_FIRE_LV_3=5,this.ENEMY_TIME_FIRE_BASE=3,this.ENEMY_PERCENT_FIRE_LV_1=15,this.ENEMY_PERCENT_FIRE_LV_2=20,this.ENEMY_PERCENT_FIRE_LV_3=25,this.ENEMY_MAX_HEALTH_LV_1=1,this.ENEMY_MAX_HEALTH_LV_2=2,this.ENEMY_MAX_HEALTH_LV_3=3,this.ENEMY_VELOC_LV_1=80,this.ENEMY_VELOC_LV_2=120,this.ENEMY_VELOC_LV_3=160,this.SCREEN_MAX_X=300,this.SCREEN_MIN_X=-300,this.SCREEN_MAX_Y=300,this.SCREEN_MIN_Y=-300,this.TIMER_LV_1=60,this.TIMER_LV_2=50,this.TIMER_LV_3=40,this.BULLET_VELOC_LV_1=50,this.BULLET_VELOC_LV_2=60,this.BULLET_VELOC_LV_3=70}return e=__decorate([n],e)}());o.default=s,cc._RF.pop()},{}],MyUtils:[function(e,t,o){"use strict";cc._RF.push(t,"7d66bybSjFAc60vSj1kM4BS","MyUtils"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./GameManager"),n=function(){function e(){}return e.CheckOutScreenDestroy=function(e){(e.x<i.default.Defines.SCREEN_MIN_X||e.x>i.default.Defines.SCREEN_MAX_X||e.y>i.default.Defines.SCREEN_MAX_Y||e.y<i.default.Defines.SCREEN_MIN_Y)&&(cc.log("destroy"),e.destroy())},e}();o.default=n,cc._RF.pop()},{"./GameManager":"GameManager"}],ObjectBase:[function(e,t,o){"use strict";cc._RF.push(t,"c3f61mPcrJHEbzar52Dlk0i","ObjectBase"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,s=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Init=function(){},t.prototype.Reset=function(){},t.prototype.SetDie=function(){},t.prototype.IsDie=function(){},t.prototype.GetHealth=function(){return this.health},t=__decorate([n],t)}(cc.Component));o.ObjectBase=s,cc._RF.pop()},{}],Player:[function(e,t,o){"use strict";cc._RF.push(t,"12ca0HLJI9K+4lechFJBxdK","Player"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./Enum"),n=e("./ObjectBase"),s=e("./GameManager"),r=cc._decorator,c=r.ccclass,a=r.property,E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.anim=null,t.spriteMain=null,t.spriteFrame=null,t.keys=new Map,t}return __extends(t,e),t.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0,this.rigid=this.node.getComponent(cc.RigidBody),this.collisionManager=cc.director.getCollisionManager(),this.collisionManager.enabled=!0,this.collisionManager.enabledDebugDraw=!0},t.prototype.start=function(){},t.prototype.SetInfo=function(e){this.node.active=!0,this.spriteMain.spriteFrame=this.spriteFrame,this.gm=e,this.state=i.PLAYER_STATE.IDLE,this.node.x=s.default.Defines.PLAYER_BEGIN_POS_X,this.node.y=s.default.Defines.PLAYER_BEGIN_POS_Y,this.health=s.default.Defines.PLAYER_HEALTH},t.prototype.update=function(e){switch(this.state){case i.PLAYER_STATE.NONE:case i.PLAYER_STATE.IDLE:case i.PLAYER_STATE.BURST:case i.PLAYER_STATE.DIE:}},t.prototype.SetBurst=function(){var e=this;this.state=i.PLAYER_STATE.BURST,this.anim.play(this.anim.getClips()[0].name),this.anim.getAnimationState(this.anim.getClips()[0].name).wrapMode=cc.WrapMode.Normal;var t=this;this.anim.on("finished",function(o){0==e.health?(t.state=i.PLAYER_STATE.DIE,t.anim.stop(),t.node.active=!1):(t.spriteMain.spriteFrame=e.spriteFrame,t.state=i.PLAYER_STATE.IDLE,e.node.x=s.default.Defines.PLAYER_BEGIN_POS_X,e.node.y=s.default.Defines.PLAYER_BEGIN_POS_Y)})},t.prototype.onCollisionEnter=function(e,t){var o=+e.getComponent(cc.BoxCollider).tag;o!=i.COLLIDER_TAG.ENEMY&&o!=i.COLLIDER_TAG.BULLET_ENEMY||this.state!=i.PLAYER_STATE.IDLE||(this.health--,this.gm.SetHealthNode(),this.SetBurst())},t.prototype.MoveLeft=function(){this.node.x-=s.default.Defines.PLAYER_DISTANCE_MOVE,this.AlwaysOnScreen()},t.prototype.MoveRight=function(){this.node.x+=s.default.Defines.PLAYER_DISTANCE_MOVE,this.AlwaysOnScreen()},t.prototype.MoveUp=function(){this.node.y+=s.default.Defines.PLAYER_DISTANCE_MOVE,this.AlwaysOnScreen()},t.prototype.MoveDown=function(){this.node.y-=s.default.Defines.PLAYER_DISTANCE_MOVE,this.AlwaysOnScreen()},t.prototype.AlwaysOnScreen=function(){var e=this.node.width/2,t=this.node.height/2;this.node.x+e>s.default.Defines.SCREEN_WIDTH/2&&(this.node.x=s.default.Defines.SCREEN_WIDTH/2-e),this.node.x-e<-s.default.Defines.SCREEN_WIDTH/2&&(this.node.x=e-s.default.Defines.SCREEN_WIDTH/2),this.node.y+t>s.default.Defines.SCREEN_HEIGHT/2&&(this.node.y=s.default.Defines.SCREEN_HEIGHT/2-t),this.node.y-t<-s.default.Defines.SCREEN_HEIGHT/2&&(this.node.y=t-s.default.Defines.SCREEN_HEIGHT/2)},t.prototype.GetPosX=function(){return this.node.x},t.prototype.GetPosY=function(){return this.node.y},t.prototype.GetState=function(){return this.state},__decorate([a(cc.Animation)],t.prototype,"anim",void 0),__decorate([a(cc.Sprite)],t.prototype,"spriteMain",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"spriteFrame",void 0),t=__decorate([c],t)}(n.ObjectBase);o.default=E,cc._RF.pop()},{"./Enum":"Enum","./GameManager":"GameManager","./ObjectBase":"ObjectBase"}],Score:[function(e,t,o){"use strict";cc._RF.push(t,"72120UR9AVCuYS1WYR2ZhDx","Score"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,s=i.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sprs=[],t}return __extends(t,e),t.prototype.start=function(){var e=cc.instantiate(this.num);this.node.addChild(e)},t.prototype.SetScore=function(e){if(this.score=e,this.CountNumberScore(e)==this.node.childrenCount)this.SetScoreSprite(e);else{for(var t=0;t<this.node.childrenCount;t++)this.node.children[t].x+=this.node.children[0].getBoundingBox().width/2;var o=cc.instantiate(this.num);this.node.addChild(o),o.position=new cc.Vec2(this.node.children[0].position.x-this.node.children[0].getBoundingBox().width*(this.node.childrenCount-1),0),this.SetScoreSprite(e)}},t.prototype.CountNumberScore=function(e){for(var t=0;e>=1;)e/=10,t++;return t},t.prototype.SetScoreSprite=function(e){for(var t=0;e>=1;){var o=e%10;e=Math.floor(e/10),this.node.children[t].getComponent(cc.Sprite).spriteFrame=this.sprs[o],t++}},t.prototype.Reset=function(){this.node.removeAllChildren();var e=cc.instantiate(this.num);this.node.addChild(e)},__decorate([s(cc.Prefab)],t.prototype,"num",void 0),__decorate([s([cc.SpriteFrame])],t.prototype,"sprs",void 0),t=__decorate([n],t)}(cc.Component);o.default=r,cc._RF.pop()},{}],ScrollBG:[function(e,t,o){"use strict";cc._RF.push(t,"18de010b7JLwozN1vVTdbWT","ScrollBG"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./GameManager"),n=cc._decorator,s=n.ccclass,r=n.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.screenHeight=0,t.childCount=0,t.scaleY=0,t}return __extends(t,e),t.prototype.start=function(){this.scaleY=this.screenHeight/this.node.children[0].getBoundingBox().height;for(var e=0;e<this.node.childrenCount;e++)this.node.children[e].scaleX=this.scaleY,this.node.children[e].y=this.screenHeight*e;this.childCount=this.node.childrenCount},t.prototype.update=function(e){for(var t=0;t<this.childCount;t++){var o=this.node.children[t];if(o.y-=i.default.Defines.BACKGROUND_SCROLLING_VELOC*e,o.y<-this.screenHeight){var n=this.CalculateTopIndex(t,this.childCount);o.y=this.screenHeight+this.node.children[n].y}}},t.prototype.CalculateTopIndex=function(e,t){return e==t-1?0:e+1},__decorate([r],t.prototype,"screenHeight",void 0),t=__decorate([s],t)}(cc.Component);o.default=c,cc._RF.pop()},{"./GameManager":"GameManager"}]},{},["Bullet","BulletEnemy","Camera","Enemy","Enum","GameManager","GlobalDefines","MyUtils","ObjectBase","Player","Score","ScrollBG"]);